*
* –î–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø—Ä–∞–≤–æ–ø—Ä–æ—à–∏—Ç–æ–º –¥–µ—Ä–µ–≤–µ (—Ç–æ–º.1, —Å—Ç—Ä. 388)
*

*
* –ú–µ—Ç–∫–∞, –Ω–∞—á–∏–Ω–∞—é—â–∞—è—Å—è —Å —Ü–∏—Ñ—Ä—ã, –ª–æ–∫–∞–ª—å–Ω–∞—è, –¥–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ —Å–ª–µ–¥—É—é—â–µ–π –≥–ª–æ–±–∞–ª—å–Ω–æ–π –º–µ—Ç–∫–∏,
* –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ—Ç–æ—Ä–æ–π –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –±—É–∫–≤—ã
*
*

LLINK	EQU	4:5	–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–ª–µ–π, —Å–º. (10)
RLINK	EQU	1:2
RLINKT	EQU	0:2
TYPE	EQU	3:3

* –£–ø—Ä–∞–≤–ª—è—é—â–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞		D1: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
D1	STJ	9F	–†–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º —ç—Ç—É –ø—Ä–æ–≥—Ä–∞–º–º—É –∫–∞–∫ –ø–æ–¥–ø—Ä–æ–≥—Ä–∞–º–º—É
LD4	Y(LLINK)	P1 <-LLINK(Y), –ø—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å—Å—è –∫ –ø–æ–∏—Å–∫—É Ys
1H	ENT2	0,4	P <- P1
2H	LD4	0,2(LLINK)	P1 <- LLINK(P)
J4NZ	1B	–ï—Å–ª–∏ P1 !=ùú¶ –ø–æ–≤—Ç–æ—Ä
D2	LD1	0,2(TYPE)	D2: –î–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏–µ
JMP	*+1,1	–ü–µ—Ä–µ—Ö–æ–¥ –∫ DIFF[TYPE(P)]
JMP	CONSTANT	–ü–µ—Ä–µ—Ö–æ–¥ –∫ —ç–ª–µ–º–µ–Ω—Ç—É —Ç–∞–±–ª–∏—Ü—ã DIFF(0)
JMP	VARIABLE	-                          DIFF(1)
JMP	LN	-                          DIFF(2)
JMP	NEG	-                          DIFF(3)
JMP	ADDLAB	-                          DIFF(4)
JMP	SUBLAB	-                          DIFF(5)
JMP	MULLAB	-                          DIFF(6)
JMP	DIV	!!! –ù–µ—Ç –º–µ—Ç–∫–∏ DIV    !     DIFF(7)
JMP	PWR	-                          DIFF(8)
D3	ST3	0,4(RLINK)	D3: –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–≤—è–∑–∏ RLINK(P1) <- P2
D4	ENT3	0,2	D4: –ü—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ –∫ Ps. P2 <- P
LD2	0,2(RLINK)	P <- RLINK(P)
J2N	1F	–ü–µ—Ä–µ—Ö–æ–¥, –µ—Å–ª–∏ RTAG(P) == 1
ST5	0,3(RLINK)	–≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ - RLINK(P2) <- Q
JMP	2B	–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ NODE(Ps) - –∫–æ–Ω—Ü–µ–≤–æ–π
1H	ENN2	0,2
D5	ENT1	-Y,2	D5:			–û–±—Ö–æ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω?
LD4	0,2(LLINK)	P1 <- LLINK(P), –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —à–∞–≥—É D2
LD6	0,4(RLINK)	Q1 <- RLINK(P1)
J1NZ	D2	–ï—Å–ª–∏ P != Y, –ø–µ—Ä–µ—Ö–æ–¥ –∫ D2
ST5	DY(LLINK)	–∏–Ω–∞—á–µ - LLINK(DY) <- 0
ENNA	DY
STA	0,5(RLINKT)	RLINK(Q) <- DY, RTAG(0) <- 1
9H	JMP	*	–í—ã—Ö–æ–¥ –∏–∑ –ø–æ–≥—Ä–∞–º–º—ã –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏—è

* –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–¥–ø—Ä–æ–≥—Ä–∞–º–º—ã –∫–æ–Ω—Å—Ç—Ä—É–∏—Ä–æ–≤–∞–Ω–∏—è –¥–µ—Ä–µ–≤–∞

TREE0	STJ	9F	–§—É–Ω–∫—Ü–∏—è TREE(rA)
JMP	2F
TREE1	ST1	3F(0:2)	–§—É–Ω–∫—Ü–∏—è TREE(rA, rI1)
JSJ	1F
TREE2	STX	3F(0:2)	–§—É–Ω–∫—Ü–∏—è TREE(rA,rX,rI1)
3H	ST1	*(RLINKT)	RLINK(rX <- rI1, RTAG(rX) <- 0
1H	STJ	9F
LDXN	AVAIL
JXZ	OVERFLOW
STX	0,1(RLINKT)	RLINK(rI1) <- AVAIL, RTAG(rI1) <- 1
LDX	3B(0:2)
STA	*+1(0:2)
STX	*(LLINK)	–£—Å—Ç–∞–Ω–æ–≤–∫–∞ LLINK –¥–ª—è —É–∑–ª–∞, —Å–ª–µ–¥—É—é—â–µ–≥–æ –∑–∞ –∫–æ—Ä–Ω–µ–º
2H	LD1	AVAIL	rI1 <- AVAIL
J1Z	OVERFLOW
LDX	0,1(LLINK)
STX	AVIL
STA	*+1(0:2)	–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ—Ä–µ–Ω—å –≤ –Ω–æ–≤—ã–π —É–∑–µ–ª
MOVE	*(2)
DEC1	2	–ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å rI1, —á—Ç–æ–±—ã –æ–Ω —É–∫–∞–∑—ã–≤–∞–ª –Ω–∞ –Ω–æ–≤—ã–π –∫–æ—Ä–µ–Ω—å
9H	JMP	*	–í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ TREE, rI1 —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω–æ–≤–æ–µ –¥–µ—Ä–µ–≤–æ

COPYP1	ENT1	0,4	COPY(P1), –æ—Å–æ–±—ã–π –≤—Ö–æ–¥ –≤ COPY
JSJ	COPY
COPYP2	ENT1	0,3	COPY(P2), –≤—Ç–æ—Ä–æ–π –æ–æ—Å–æ–±—ã–π –≤—Ö–æ–¥ –≤ COPY

*
* –ù–∞—á–∞–ª–æ –ø–æ–¥–ø—Ä–æ–≥—Ä–∞–º–º—ã 63-104 —Å—Ç—Ä–æ–∫–∏ (—Å–º. —É–ø—Ä. 13)
COPY	STJ	9F	–§—É–Ω–∫—Ü–∏—è COPY(rI1)

**** !!!!!!!!! –í—Å—Ç–∞–≤–∏—Ç—å –∫–æ–¥ COPY

9H	JMP	*	–í—ã—Ö–æ–¥ –∏–∑ ¬†COPY rI1 —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω–æ–≤–æ–µ –¥–µ—Ä–µ–≤–æ
* –ö–æ–Ω–µ—Ü –ø–æ–¥–ø—Ä–æ–≥—Ä–∞–º–º—ã 63-104 —Å—Ç—Ä–æ–∫–∏ (—Å–º. —É–ø—Ä. 13)
*

CON0	CON	0	–£–∑–µ–ª, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π "0"
CON	0
CON1	CON	0	–£–∑–µ–ª, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—â–∏–π "1"
CON	1
CON2	CON	0	–£–∑–µ–ª, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π "2"
CON	2
LOG	CON	2(TYPE)	–£–∑–µ–ª "ln"
ALF	LN
NEGOP	CON	3(TYPE)	–£–∑–µ–ª "neg"
ALF	NEG
PLUS	CON	4(TYPE)	–£–∑–µ–ª "+"
ALF	+
MINUS	CON	5(TYPE)	–£–∑–µ–ª "-"
ALF	0
TIMES	CON	6(TYPE)	–£–∑–µ–ª "*"
ALF	*
SLASH	CON	7(TYPE)	–£–∑–µ–ª "/"
ALF	/
UPARROW	CON	8(TYPE)	–£–∑–µ–ª "‚Üë"
ALF	**	"**" - –≤–æ–∑–≤–µ–¥–µ–Ω–∏–µ –≤ —Å—Ç–µ–ø–µ–Ω—å

* –ü–†–û–ì–†–ê–ú–ú–´ –î–ò–§–§–ï–†–ï–ù–¶–ò–†–û–í–ê–ù–ò–Ø

VARIABLE	LDX	1,2
ENTA	CON1
CMPX	2F	–ï—Å–ª–∏ INFO(P) == "X"
JE	*+2	–í—ã–∑–≤–∞—Ç—å TREE(1)

CONSTANT	ENTA	CON0	–ò–Ω–∞—á–µ –≤—ã–∑–≤–∞—Ç—å TREE(0)
JMP	TREE0
1H	ENT5	0,1	0 <- –∞–¥—Ä–µ—Å –Ω–æ–≤–æ–≥–æ –¥–µ—Ä–µ–≤–∞
JMP	D4	–ù–∞–∑–∞–¥ –≤ —É–ø—Ä–∞–≤–ª—è—é—â—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É
2H	ALF	X

LN	LDA	1,5
JAZ	D4	–µ—Å–ª–∏ INFO(0) == 0 –≤–æ–∑–≤—Ä–∞—Ç –∫ D4
JMP	COPYP1
ENTX	0,5	–∏–Ω–∞—á–µ rI1 <- COPY(P1)
ENTA	SLASH
JMP	TREE2	rI1 <- TREE("/", Q, rI1)
JMP	1B	Q <- rI1, –≤–æ–∑–≤—Ä–∞—Ç –≤ —É–ø—Ä–∞–≤–ª—è—é–∑—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É

NEG	LDA	1,5
JAZ	D4	–ï—Å–ª–∏ NFO(!) == 0^ —Ç–æ –≤–æ–∑–≤—Ä–∞—Ç
ENTA	NEGOP
ENT1	0,5
JMP	TREE1	rI1 <- TREE("neg", Q)
JMP	1B	! <- rI1, –∏ –≤–æ–∑–≤—Ä–∞—Ç –∫ —É–ø—Ä–∞–≤–ª—è—é—â–µ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ

ADDLAB	LDA	1,6
JANZ	1F	–ü–µ—Ä–µ—Ö–æ–¥ –µ—Å–ª–∏ INFO(Q1) == 0
3H	LDA	AVAIL	AVAIL <- Q1
STA	0,6(LLINK)
ST6	AVAIL
JMP	D3	–í–æ–∑–≤—Ä–∞—Ç –∫ —É–ø—Ä–∞–≤–ª—è—é—â–µ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ
1H	LDA	1,5	–±–∏–Ω–∞—Ä–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä
JANZ	1F	–ø–µ—Ä–µ—Ö–æ–¥ –µ—Å–ª–∏ INFO(Q) == 0
2H	LDA	AVAIL	AVAIL <- 0
STA	0,5(LLINK)
STA	AVAIL
ENT5	0,6	Q <- Q1
JMP	D3	–≤ —É–ø—Ä–∞–≤–ª—è—é—â—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É
3H	ENTA	PLUS	–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –≤—ã–∑–æ–≤—É TREE("+", Q1, Q)
4H	ENTX	0,6
ENT1	0,5
JMP	TREE2
ENT5	0,1	Q<- TREE("+", Q1, Q)
JMP	D3

SUBLAB	LDA	1,5
JAZ	2B	–ï—Å–ª–∏ INFO(Q) == 0
LDA	1,6
JANZ	1F
ENTA	NEGOP
ENT1	0,5
JMP	TREE1
ENT5	0,1	Q <- TREE("neq",Q)
JMP	3B	AVAIL <- Q1 –∏ –≤–æ–∑–≤—Ä–∞—Ç
1H	ENTA	MINUS	–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –≤—ã–∑–æ–≤—É TREE("-",Q1,Q)
JMP	4B

MULLAB	LDA	1,6
JAZ	1F	–ï—Å–ª–∏ INFO(Q1) == 0
JMP	COPY2	–∏–Ω–∞—á–µ - rI1 <- COPY(P2)
ENTA	0,6
JMP	MULT	rI1 <- MULT(Q1, COPY(P2))
ENTA	0,6
JMP	MULT	rI1 <- MULT(Q1, COPY(P2))
ENT6	0,1	Q1 <- rI1
1H	LDA	1,5
JAZ	ADDLAB	–ï—Å–ª–∏ INFO(Q) == 0
JMP	COPYP1	–ò–Ω–∞—á–µ rI1 <- COPY(P1)
ENTA	0,1
ENT1	0,5
JMP	MULT	rI1 <- MULT(COPY(P1), Q)
ENT5	0,1	Q <- rI1
JMP	ADDLAB

MULT	STJ	9F	–ü–æ–¥–ø—Ä–æ–≥—Ä–∞–º–º–∞ MULT(rA1, rI1)
STA	1F(0:2)	–ü—É—Å—Ç—å rAùù£U, rI1ùù£V
ST2	8F(0:2)	–°–æ—Ö—Ä–∞–Ω—è–µ–º rI2
1H	ENT2	*	rI2 <- U
LDA	1,2	–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –≤–µ—Ä–Ω–æ –ª–∏, —á—Ç–æ INFO(U) == 1
DECA	1
JANZ	1F
LDA	0,2(TYPE)	–∏ TYPE(U)ùù£0
JAZ	2F
1H	LDA	1,1	–ï—Å–ª–∏ –Ω–µ –≤–µ—Ä–Ω–æ, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å INFO(V) == 1
DECA	1
JANZ	1F
LDA	0,1(TYPE)	–∏ –≤–µ—Ä–Ω–æ –ª–∏, —á—Ç–æ TYPE(V) == 0
JANZ	1F
ST1	*+2(0:2)	–µ—Å–ª–∏ –≤–µ—Ä–Ω–æ, –≤—ã–ø–æ–ª–Ω–∏—Ç—å –æ–±–º–µ–Ω U <-> V
ENT1	0,2
ENT2	*
2H	LDA	AVAIL	AVAIL <- U
STA	0,2(LLINK)
ST2	AVAIL
JMP	8F	–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –ø–æ–ª—É—á–∏–º V
1H	ENTA	TIMES
ENTX	9,2
JMP	TREE2	–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –ø–æ–ª—É—á–∞–µ–º TREE("x", U, V)
8H	ENT2	*	–≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º rI2
9H	JMP	*	–≤—ã—Ö–æ–¥–∏–º –∏–∑ MULT —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –≤ rI1
